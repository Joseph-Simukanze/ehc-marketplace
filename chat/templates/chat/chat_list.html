{% extends 'base.html' %} {% block content %}
<div class="container mt-4">
    <h3>Your Conversations</h3>
    <ul class="list-group">
        {% for convo in conversations %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {% with other_participants=convo.participants.all %} {% for participant in other_participants %} {% if participant != request.user %} Chat with {{ participant.username }} {% endif %} {% endfor %} {% endwith %}
            <a href="{% url 'chat:chat_room' convo.id %}" class="btn btn-sm btn-outline-primary">Open</a>
        </li>
        {% empty %}
        <li class="list-group-item">You have no conversations yet.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}